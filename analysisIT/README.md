# Анализ рынка IT вакансий
## Оглавление:
1. [Описание проекта](#project-description)
2. [Данные](#data-description)
3. [API HeadHunter](#api-description)
4. [Парсер](#parser-description)
5. [Аналогичные исследования](#similar-studies)
6. [Результаты](#results)

<a name="project-description"></a> 
### Описание проекта:

Основной целью данного проекта был анализ рынка вакансий в IT-сфере с использованием данных, предоставленных платформой HeadHunter, а также создание инструмента для анализа данных о вакансиях с использованием API HeadHunter.

<a name="data-description"></a>
### Данные

Для получения данных был разработан парсер, использующий API HeadHunter.

Данные охватывают период с 18 сентября 2023 года по 17 октября 2023 года. Регион: вся Россия.

В результате удалось собрать 200,880 вакансий (из них 68,770 - вакансий в IT-сфере) с 53 параметрами.

На следующем графике представлено количество найденных вакансий ежедневно и сколько из них удалось скачать.

![Количество собранных вакансий](img/image5.png)

Собранные данные я выложил в свободный доступ на Kaggle: [IT вакансии с сайта HeadHunter](https://www.kaggle.com/datasets/ilyazawilsiv/it-vacancies-from-headhunter-website)

<a name="api-description"></a>
### API HeadHunter
**Ограничения API HH:**
* Ограничение на количество запросов: 10 запросов/сек/ip.
* Ограничение на количество возвращаемых результатов в одном запросе. При выполнении запроса можно получить не более 2000 вакансий.
* Можно получить информацию о вакансиях только за последние 30 дней

**Используемые запросы:**
* GET /vacancies - возвращает список вакансий 
* GET /vacancies/{vacancy_id} - возвращает JSON с телом вакансии
* GET /professional_roles - возвращает список категорий и ролей

Параметры запроса, использованные в проекте, представлены в следующей таблице.

| Параметр | Описание |
| --- | --- |
| page | Номер страницы |
| per_page | Количество вакансий на страницу. |
| professional_role | Профессиональная область. Необходимо передавать id роли. |
| date_from | Дата, которая ограничивает снизу диапазон дат публикации вакансий.  |
| date_to | Дата, которая ограничивает сверху диапазон дат публикации вакансий. |

<a name="parser-description"></a>
### Парсер

Исходя из вышеуказанных ограничений API HH, парсер сначала собирал идентификаторы вакансий за указанный период времени (запрос "/vacancies"), а затем получал информацию о каждой вакансии с помощью запроса "/vacancies/{vacancy_id}".

Важной особенностью парсера является работа с временным интервалом при получении id вакансий. 
Поскольку параметры "date_from" и "date_to" в запросе "/vacancies" округляются API HH до ближайших пяти минут, 
то минимальный шаг, за который можно получать результаты, будет равен пяти минутам. Чтобы обойти ограничение на количество возвращаемых результатов в одном 
запросе (2000 вакансий), был использован переменных шаг. Стандартный шаг, за 
который производился сбор вакансий, равняется 30 мин. Если в одном из 
промежутков было найдено более 2000 вакансий, то данный промежуток 
дополнительно разбивался на более мелкие с шагом в 5 мин.

<a name="similar-studies"></a>
### Аналогичные исследования

Из наиболее интересных аналогичных исследований можно выделить периодически публикуемые HeadHunter исследования IT-рынка вакансий. Например, отчеты за 2018 и 2023 год.

Из особенностей [отчета за 2023](https://hh.ru/article/31783) год можно выделить анализ динамики уровня конкуренции за рабочие места с 2021 по 2023 год, а также анализ уровня конкуренции по языкам программирования и основным IT-профессиям. 

[Отчет HeadHunter за 2018 год](https://hh.ru/article/24562) интересен тем, что предоставляет 15 портретов представителей IТ-специальностей.

<a name="results"></a>
## Результаты
### Результаты анализа ([ссылка на Дашборд](https://datalens.yandex.cloud/iu9wqnfk1mqk6-analiz-it-vakansiy))

Первоначально было поставлено 8 аналитических задач, которые в ходе 
работы были распределены на 4 группы.
* **Сравнительный анализ предлагаемых заработных плат в IT-сфере** показал, что города с самыми высокими медианными заработными 
платами это Москва (108750 руб.), Санкт-Петербург (87000 руб.) и Казань (69600 руб.). Самые высокооплачиваемые профессиональные 
роли включают Team Lead (182700 руб.), DevOps-инженер (165300 руб.) и Системный аналитик (152250 руб.).
* **Исследование распределения требуемого опыта от соискателей** показало, что наименьшее количество вакансий требует опыта работы более шести лет, 
а для удаленной работы обычно требуются более опытные сотрудники.
* **Определение топ-работодателей.** позволило выявить компании, чаще всего размещающие вакансии. 
Независимо от компании, наибольшее число вакансий требует опыта работы от 1 до 3 лет и от 3 до 6 лет.
* **Тепловая карта IT-вакансий.** Так как в теле вакансии указаны координаты места работы, получилось 
перенести данные на географическую карту


### Представление конечного вида дистрибутива ([ссылка на дистрибутив](https://github.com/IlyaZawyalow/JobAnalyzer))

Дистрибутив представлен в виде веб приложения, которое позволяет собирать и визуализировать данные вакансий.

**Стек технологий:**
* DB: PostgreSQL
* Backend: Flask, SQLAlchemy
* Контейнеризация: Docker, Docker Compose
* BI: DataLens
* Библиотеки: Matplotlib, NumPy, Requests, Pandas, Loguru, Psycopg2 и др.